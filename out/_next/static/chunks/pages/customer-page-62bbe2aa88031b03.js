(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[245],{166:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/customer-page",function(){return a(3998)}])},3998:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return n}});var s=a(5893),i=a(7294);a(184);let r=a(7066).Z.create({baseURL:"https://0sy7wxlvx0.execute-api.us-east-2.amazonaws.com/AuctionHouse"});function n(){let[e,t]=(0,i.useState)([]),a=e=>{let a={username:"customer"};console.log("sending data..."),console.log(a),r.post("/viewItemCustomer",a).then(function(e){400===e.data.statusCode?alert(e.data.error):200===e.data.statusCode&&t(e.data.data)}).catch(function(e){alert("Failed")})},n=e=>{r.post("/sortItemsCustomer",{sortType:e}).then(e=>{200===e.data.statusCode?t(e.data.data):(console.log(e),alert(e.data.error))}).catch(()=>alert("Failed to sort items"))},c=e=>{if(!e)return"";try{if(e=JSON.parse(e),!Array.isArray(e)||0===e.length)return"";return e.reduce((e,t)=>Number(t.amount)>Number(e.amount)?t:e).username||""}catch(e){return""}},l=e=>{let a=document.querySelector(".itemNameInput").value,s=document.querySelector(".itemDescriptionInput").value,i=document.querySelector(".itemPriceLowInput").value,n=document.querySelector(".itemPriceHighInput").value,c=document.querySelector(".itemStartDateLowInput").value,l={InputType:e,itemNameInput:a,itemDescriptionInput:s,itemPriceLowInput:i,itemPriceHighInput:n,startLowDate:c,startHighDate:document.querySelector(".itemStartDateHighInput").value,endLowDate:document.querySelector(".itemEndDateLowInput").value,endHighDate:document.querySelector(".itemEndDateHighInput").value};console.log("Hello, World!"),console.log(l),r.post("/itemSearchCustomer",l).then(e=>{400===e.data.statusCode?alert(e.data.error):200===e.data.statusCode&&t(e.data.data)}).catch(function(e){alert("Failed")})};return(0,s.jsxs)("main",{className:"customerMain",children:[(0,s.jsx)("div",{id:"customerUsername",className:"customerUsername",children:"customer"}),(0,s.jsxs)("div",{className:"searchBoxes",children:[(0,s.jsxs)("div",{className:"itemNameSearchBox",children:[(0,s.jsx)("label",{children:"Item name: "}),(0,s.jsx)("input",{className:"itemNameInput",type:"text",placeholder:"item name"}),(0,s.jsx)("button",{className:"itemNameSearchButton",onClick:()=>l("itemName"),children:"Search"})]}),(0,s.jsxs)("div",{className:"itemDescriptionSearchBox",children:[(0,s.jsx)("label",{children:"Item description: "}),(0,s.jsx)("input",{className:"itemDescriptionInput",type:"text",placeholder:"item description"}),(0,s.jsx)("button",{className:"itemDescriptionSearchButton",onClick:()=>l("itemDescription"),children:"Search"})]}),(0,s.jsxs)("div",{className:"itemPriceSearchBox",children:[(0,s.jsx)("label",{children:"Item price: "}),(0,s.jsx)("input",{className:"itemPriceLowInput",type:"text",placeholder:"low price range"}),(0,s.jsx)("input",{className:"itemPriceHighInput",type:"text",placeholder:"high price range"}),(0,s.jsx)("button",{className:"itemPriceSearchButton",onClick:()=>l("itemPrice"),children:"Search"})]}),(0,s.jsxs)("div",{className:"itemStartDateSearchBox",children:[(0,s.jsx)("label",{children:"Item start date range: "}),(0,s.jsx)("input",{className:"itemStartDateLowInput",type:"date",placeholder:"item start date low"}),(0,s.jsx)("input",{className:"itemStartDateHighInput",type:"date",placeholder:"item start date high"}),(0,s.jsx)("button",{className:"itemDateSearchButton",onClick:()=>l("itemStartDate"),children:"Search"})]}),(0,s.jsxs)("div",{className:"itemEndDateSearchBox",children:[(0,s.jsx)("label",{children:"Item end date range: "}),(0,s.jsx)("input",{className:"itemEndDateLowInput",type:"date",placeholder:"item end date low"}),(0,s.jsx)("input",{className:"itemEndDateHighInput",type:"date",placeholder:"item end date high"}),(0,s.jsx)("button",{className:"itemEndSearchButton",onClick:()=>l("itemEndDate"),children:"Search"})]})]}),(0,s.jsxs)("div",{className:"customerItems",children:[(0,s.jsx)("button",{className:"reviewItems",onClick:e=>a(e),children:"View Items"}),(0,s.jsx)("label",{children:"Items: "})]}),(0,s.jsx)("div",{className:"itemTable",children:e&&e.length>0?(0,s.jsxs)("table",{className:"items",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Item Name"}),(0,s.jsx)("th",{children:"Item Price"}),(0,s.jsx)("th",{children:"Item Description"}),(0,s.jsx)("th",{children:"Item Image"}),(0,s.jsx)("th",{children:"Highest Bid/Bidder"}),(0,s.jsx)("th",{children:"Start Date"}),(0,s.jsx)("th",{children:"End Date"})]})}),(0,s.jsx)("tbody",{children:e.map((e,t)=>(0,s.jsxs)(i.Fragment,{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:e.itemName}),(0,s.jsx)("td",{children:e.price}),(0,s.jsx)("td",{children:e.description}),(0,s.jsx)("td",{children:(0,s.jsx)("img",{className:"itemImage",src:e.imageUrl,alt:e.itemName})}),(0,s.jsx)("td",{children:c(e.bids)}),(0,s.jsx)("td",{children:e.startDate}),(0,s.jsx)("td",{children:e.endDate})]}),(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:7,children:(0,s.jsx)("label",{children:"__"})})})]},e.id||t))})]}):(0,s.jsx)("p",{children:"No items to display"})}),(0,s.jsxs)("div",{className:"sorting",children:[(0,s.jsx)("label",{className:"sortLabel",children:"Sort Active Items"}),(0,s.jsx)("button",{className:"sortingButton",onClick:()=>{n("Name")},children:" Name "}),(0,s.jsx)("button",{className:"sortingButton",onClick:()=>{n("Price")},children:" Price "}),(0,s.jsx)("button",{className:"sortingButton",onClick:()=>{n("Start Date")},children:" Start Date"}),(0,s.jsx)("button",{className:"sortingButton",onClick:()=>{n("End Date")},children:" End Date"})]})]})}},184:function(){}},function(e){e.O(0,[66,888,774,179],function(){return e(e.s=166)}),_N_E=e.O()}]);